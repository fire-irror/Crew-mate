<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8' />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js'></script>
  <link rel="stylesheet" type="text/css" href="동아리소개.css">
  <style>
    #calendar {
      width: 85%;
      padding-top: 5%;
      padding-left: 10%;
    }
  </style>
</head>

<body>
  <header>
    <nav id="nav3">
      <a href="index.html">Crew Mate</a>
    </nav>
  </header>
  <div id='calendar'> </div>
  <div class="modal" id="calendarModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="task-title">일정을 입력하세요.</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="task" class="task-label">일정 내용</label>
            <input type="text" class="task-control" id="calendar_content" name="calendar_content"><br>
            <label for="task" class="task-label">시작 날짜</label>
            <input type="date" class="task-control" id="calendar_start_date" name="calendar_startdate"><br>
            <label for="task" class="task-label">종료 날짜</label>
            <input type="date" class="task-control" id="calendar_end_date" name="calendar_enddate">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="add-btn" id="addCalendar">추가</button>
          <button type="button" class="cancle-btn" data-dismiss="modal" id="cancleCalendar">취소</button>
        </div>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var calendarEl = document.getElementById('calendar');
      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'addEventButton'
        },
        customButtons: {
          addEventButton: {
            text: '일정 추가',
            click: function () {
              $('#calendarModal').modal('show');
            }
          }
        }
      });

      calendar.render();

      //일정추가
      $('#addCalendar').on('click', function () {
        var eventTitle = $('#calendar_content').val();
        var startDate = $('#calendar_start_date').val();
        var endDate = $('#calendar_end_date').val();

        if (eventTitle && startDate && endDate) {
          calendar.addEvent({
            title: eventTitle,
            start: startDate,
            end: endDate
          });

          $('#calendarModal').modal('hide');
        } else {
        }
      });
    });
  </script>
</body>

</html>